{% extends "base.html" %}

{% block title %}Activity Ideas Generator{% endblock %}

{% block content %}
<div class="w3-container w3-padding-32 w3-card">
    <h2 class="w3-center">Generate Activity Ideas</h2>

    {% if error %}
        <p class="w3-text-red w3-center">{{ error }}</p>
    {% endif %}

    <form method="POST" action="{{ url_for('ideas') }}" class="w3-container w3-padding">
        <label for="topic" class="w3-text-black"><b>Topic:</b></label>
        <input type="text" name="topic" id="topic" class="w3-input w3-border w3-round" value="{{ topic|default('') }}" required>

        <label for="year_group" class="w3-text-black"><b>Year Group:</b></label>
        <input type="text" name="year_group" id="year_group" class="w3-input w3-border w3-round" value="{{ year_group|default('') }}" required>

        <label for="additional" class="w3-text-black"><b>Additional Information (Optional):</b></label>
        <textarea name="additional" id="additional" class="w3-input w3-border w3-round" rows="4">{{ additional|default('') }}</textarea>

        <div class="w3-center w3-margin-top">
            <button type="submit" class="w3-button w3-blue w3-round-large">Generate Ideas</button>
        </div>
    </form>

    {% if ideas %}
        <div class="w3-container w3-padding-16 w3-light-grey w3-round w3-margin-top">
            <h3 class="w3-center">Generated Activity Ideas</h3>
            <pre class="w3-border w3-padding w3-white w3-round">{{ ideas }}</pre>
        </div>
        <div class="w3-center w3-margin-top">
            <form method="POST" action="{{ url_for('ideas') }}">
                <input type="hidden" name="topic" value="{{ topic }}">
                <input type="hidden" name="year_group" value="{{ year_group }}">
                <input type="hidden" name="additional" value="{{ additional }}">
                <button type="submit" class="w3-button w3-green w3-round-large">Generate New Ideas</button>
            </form>
        </div>
    {% endif %}
</div>
{% endblock %}
